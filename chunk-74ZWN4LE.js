import{a as M}from"./chunk-2JKJT3EY.js";import{Ac as D,Ba as _,Eb as w,Ga as s,Kb as I,La as g,Pa as t,Pb as E,Qa as i,R as l,Ra as u,Sb as S,Xa as x,Xb as k,Ya as y,a as h,b as f,f as p,hb as n,ib as c,kb as b,la as v,na as a,wa as C,xc as N,yc as P}from"./chunk-WROBVBIZ.js";function j(r,o){if(r&1&&(t(0,"div",14)(1,"div",15),u(2,"img",16),i(),t(3,"div",17)(4,"h2",18),n(5),i(),t(6,"div",19),u(7,"span",20),t(8,"span",21),n(9),i()(),t(10,"div",22)(11,"p",23),n(12),i()()()(),t(13,"div",24)(14,"h3",25),n(15,"Why I am the perfect candidate"),i(),t(16,"p",23),n(17),i()()),r&2){let e=y();a(2),s("src",e.candidate.imageDataUrl||"assets/images/person.svg",v),a(3),c(e.candidate.name),a(2),s("ngClass",`fi fi-${e.candidate.countryCode}`),a(2),b("",e.candidate.country," \xB7 ",e.candidate.age,""),a(3),c(e.candidate.hobbies||"No hobbies"),a(5),c(e.candidate.why||"Don't know, why.")}}function T(r,o){r&1&&(t(0,"div",13),n(1,"Candidate not found"),i())}var V=class r{_route=l(E);_candidateService=l(D);_idbService=l(M);_allCandidates=[];_currIndex=0;candidate;prevEnd=!1;nextEnd=!1;ngOnInit(){this._allCandidates=this._candidateService.getAll(),this._setCandidateInfo()}_setCandidateInfo(){return p(this,null,function*(){this._allCandidates=yield this._addCandidatesPhotos();let o=this._route.snapshot.params.id;this.candidate=this._allCandidates.find(e=>e.id==o),this.candidate&&(this._currIndex=this._allCandidates.indexOf(this.candidate)),this.prevEnd=this._currIndex==0,this.nextEnd=this._currIndex==this._allCandidates.length-1})}_addCandidatesPhotos(){return p(this,null,function*(){let o=yield this._idbService.getAllPhotos();return this._allCandidates.map(e=>{let d=o.find(m=>m.id===e.id);return d?f(h({},e),{imageDataUrl:d.photoBase64}):e})})}nextCandidate(){this._currIndex<this._allCandidates.length-1&&(this._currIndex++,this.candidate=this._allCandidates[this._currIndex]),this._updateNavState()}prevCandidate(){this._currIndex>0&&(this._currIndex--,this.candidate=this._allCandidates[this._currIndex]),this._updateNavState()}_updateNavState(){this.prevEnd=this._currIndex===0,this.nextEnd=this._currIndex===this._allCandidates.length-1}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=C({type:r,selectors:[["app-candidate-view"]],decls:22,vars:5,consts:[[1,"flex","items-center","justify-center"],[1,"flex","flex-col","justify-center","h-full","w-3xl","pt-7"],[1,"mb-8","flex","items-center","justify-between"],[1,"flex","items-center","mb-4"],["routerLink","/dashboard",1,"cursor-pointer"],["routerLink","/dashboard",1,"text-gray-600","cursor-pointer","ml-2","text-base","font-medium"],[1,"flex","items-center"],[1,"flex","items-center",3,"ngClass"],[1,"cursor-pointer"],[1,"text-gray-600","ml-1","text-base","font-medium",3,"click","ngClass"],[1,"flex","items-center","ml-3.5",3,"ngClass"],[1,"text-gray-600","mr-1","text-base","font-medium",3,"click","ngClass"],[1,"bg-white","p-8","rounded-xl","shadow","w-3xl","max-w-3xl","h-95","max-h-95"],[1,"text-sm","text-gray-500"],[1,"flex","gap-4"],[1,"flex","items-center","justify-center","max-w-33","min-w-33","max-h-33","min-h-33","p-1","border","border-gray-400","rounded-xl"],["alt","candidate",1,"w-28","h-28","object-cover","rounded",3,"src"],[1,"flex","flex-col","items-start","ml-8"],[1,"text-2xl","font-semibold"],[1,"flex","items-center","text-sm","text-gray-600","mt-2"],[3,"ngClass"],[1,"ml-2"],[1,"mt-2","text-sm","text-gray-600"],[1,"mt-2"],[1,"mt-12"],[1,"font-medium"]],template:function(e,d){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),n(5,"arrow_back"),i(),t(6,"button",5),n(7," Back "),i()(),t(8,"div",6)(9,"div",7)(10,"mat-icon",8),n(11,"arrow_left"),i(),t(12,"button",9),x("click",function(){return d.prevCandidate()}),n(13," Previous "),i()(),t(14,"div",10)(15,"button",11),x("click",function(){return d.nextCandidate()}),n(16," Next "),i(),t(17,"mat-icon",8),n(18,"arrow_right"),i()()()(),t(19,"div",12),_(20,j,18,7)(21,T,2,0,"div",13),i()()()),e&2&&(a(9),s("ngClass",d.prevEnd?"/*bg-gray-300*/ px-4 py-2 rounded-md cursor-not-allowed opacity-50":""),a(3),s("ngClass",d.prevEnd?"cursor-not-allowed opacity-50":"cursor-pointer"),a(2),s("ngClass",d.nextEnd?"/*bg-gray-300*/ px-4 py-2 rounded-md cursor-not-allowed opacity-50":""),a(),s("ngClass",d.nextEnd?"cursor-not-allowed opacity-50":"cursor-pointer"),a(5),g(d.candidate?20:21))},dependencies:[I,w,k,S,P,N],encapsulation:2})};export{V as CandidateViewComponent};
