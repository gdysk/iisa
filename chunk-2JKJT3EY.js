import{N as c,f as i}from"./chunk-WROBVBIZ.js";var h="IISA_DB",d=class a{_db;init(){return i(this,null,function*(){this._db=yield this._openDB()})}_openDB(){return new Promise((r,o)=>{let t=indexedDB.open(h,1);t.onupgradeneeded=()=>{let n=t.result;n.objectStoreNames.contains("candidatesPhoto")||n.createObjectStore("candidatesPhoto",{keyPath:"id"})},t.onsuccess=()=>r(t.result),t.onerror=()=>o(t.error)})}_getDB(){if(!this._db)throw new Error("IndexedDB not initialized!");return this._db}saveCandidatePhoto(r){return i(this,null,function*(){let o=this._getDB();return new Promise((t,n)=>{let e=o.transaction("candidatesPhoto","readwrite");e.objectStore("candidatesPhoto").put(r),e.oncomplete=()=>t(),e.onerror=()=>n(e.error)})})}getCandidatePhoto(r){return i(this,null,function*(){let o=this._getDB();return new Promise((t,n)=>{let s=o.transaction("candidatesPhoto","readonly").objectStore("candidatesPhoto").get(r);s.onsuccess=()=>t(s.result),s.onerror=()=>n(s.error)})})}getAllPhotos(){let r=this._getDB();return new Promise((o,t)=>{let e=r.transaction("candidatesPhoto","readonly").objectStore("candidatesPhoto").getAll();e.onsuccess=()=>o(e.result),e.onerror=()=>t(e.error)})}static \u0275fac=function(o){return new(o||a)};static \u0275prov=c({token:a,factory:a.\u0275fac,providedIn:"root"})};export{d as a};
